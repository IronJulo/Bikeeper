<link rel="stylesheet" href="{{ url_for('static', filename='mobile/css/map.css') }}">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin="" />
<div id="myNav" class="overlay">

    <!-- Button to close the overlay navigation -->
    <img src="{{ url_for('static', filename='mobile/assets/close.png') }}" href="javascript:void(0)" class="closebtn" onclick="closeNav()" alt="close">

    <!-- Overlay content -->
    <div class="container">
        <a href="/home/">
            <div class="row">
                <div class="col-2"><img src="{{ url_for('static', filename='mobile/assets/Vector.svg') }}" alt="vector"></div>
                <div class="col-10">Home</div>
            </div>
        </a>
        <div class="rectangle2"></div>
        <a href="/statistics/">
            <div class="row">
                <div class="col-2"><img src="{{ url_for('static', filename='mobile/assets/graphicon1.svg') }}" alt="stat"></div>
                <div class="col-10">Statistics</div>
            </div>
        </a>
        <div class="rectangle2"></div>
        <a href="/settings/">
            <div class="row">
                <div class="col-2"><img src="{{ url_for('static', filename='mobile/assets/settings1.svg') }}" alt="setting"></div>
                <div class="col-10">Settings</div>
            </div>
        </a>
        <div class="rectangle2"></div>
        <a href="/support/">
            <div class="row">
                <div class="col-2"><img src="{{ url_for('static', filename='mobile/assets/support.svg') }}" alt="support"></div>
                <div class="col-10">Support</div>
            </div>
        </a>
        <div class="rectangle2"></div>
        <a href="{{ url_for('logout.logout')}}">
            <div class="row">
                <div class="col-2"><img src="{{ url_for('static', filename='mobile/assets/log_out.svg') }}" alt="log_out" id="Disconnect"></div>
                <div class="col-10">Disconnect</div>
            </div>
        </a>
        <div class="rectangle2"></div>
        <a href="#" onclick="openMap()">
            <div class="row">
                <div class="col-2"><img src="{{ url_for('static', filename='mobile/assets/Device.svg') }}" alt="device"></div>
                <div class="col-10">Device</div>
            </div>
        </a>
        <div class="rectangle2"></div>
    </div>
</div>






<div class="container map">
    <div class="row">
        <div class="col-2">
            <a href="#" onclick="closeMap()">
                <i class="fa fa-chevron-left"></i>
            </a>
        </div>
        <div class="col-8">Localisation</div>
    </div>
</div>
<!-- <div class="container-fluid">
    <div id="map"></div>
</div>
 -->









<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>
    <script type="text/javascript">
        // On initialise la latitude et la longitude de Paris (centre de la carte)
        var lat = 48.852969;
        var lon = 2.349903;
        var macarte = null;
        // Fonction d'initialisation de la carte
        function initMap() {

            var myIcon = L.icon({
                iconUrl: "https://i.imgur.com/e2UvuuQ.png",
                iconSize: [40, 40],
                iconAnchor: [25, 50],
                popupAnchor: [-3, -76],
            });

            // Créer l'objet "macarte" et l'insèrer dans l'élément HTML qui a l'ID "map"
            macarte = L.map('map').setView([lat, lon], 11);
            var marker = L.marker([lat, lon], {
                icon: myIcon
            }).addTo(macarte);
            // Leaflet ne récupère pas les cartes (tiles) sur un serveur par défaut. Nous devons lui préciser où nous souhaitons les récupérer. Ici, openstreetmap.fr
            L.tileLayer('https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', {
                // Il est toujours bien de laisser le lien vers la source des données
                attribution: 'données © <a href="//osm.org/copyright">OpenStreetMap</a>/ODbL - rendu <a href="//openstreetmap.fr">OSM France</a>',
                minZoom: 1,
                maxZoom: 20
            }).addTo(macarte);
        }
        window.onload = function() {
            // Fonction d'initialisation qui s'exécute lorsque le DOM est chargé
            initMap();
        };
        /* Open when someone clicks on the span element */
        function openMap() {
            closeNav();
            document.getElementsByClassName("map")[0].style.zIndex = 4;
            document.getElementById("map").style.zIndex = 4;
        }

        /* Close when someone clicks on the "x" symbol inside the overlay */
        function closeMap() {
            document.getElementsByClassName("map")[0].style.zIndex = -1;
            document.getElementById("map").style.zIndex = -1;
        } 
    </script>