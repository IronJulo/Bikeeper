{% extends "base.html" %}

{% block style %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='pc/css/statistics.css') }}">
{% endblock style %}

{% block main %}
<div class="flex">
    <section class='group1'>
        <div class='user-data'>
            <h2>Your Data</h2>
            <ul>
                <li>Last Ride : <span>DATE</span></li>
                <li>Last Ride Duration : <span>TIME</span></li>
            </ul>
        </div>
        <div class='bikeeper-data'>
            <h2>Your BiKeeper Data</h2>
        </div>
    </section>

    <section class='group2'>
        <div class="filters">
            <h2>Filters</h2>
            <form class='filters'>
                <div class='ride-date'>
                    <label for="ride-date">Ride Date : </label>
                    <input type="date" name="ride-date" id="ride-date">
                </div>
                <div class='ride-number'>
                    <label for="ride-number">Ride Number : </label>
                    <select name="ride-number" id="ride-number">
                        <option value="ride1">Ride 1</option>
                        <option value="ride2">Ride 2</option>
                        <option value="ride3">Ride 3</option>
                    </select>
                </div>
                <div class="submit">
                    <button type="submit">Search</button>
                </div>
            </form>
        </div>
        <div class="container-timeline">
            <h2>Timeline</h2>
            <div class="timeline">
                {% for i in range(0,5) %}
                <!-- METTRE LA COULEUR EN FONCTION DU LOG 
                    --timeline-main-color:#7BC6E1; INFORMATION
                    --timeline-main-color:#DC1D21; ALERT
                -->
                <style>
                    :root {
                        --timeline-main-color: #DC1D21;
                    }
                </style>
                
                <div class="timeline__event  animated fadeInUp delay-3s timeline__event--type1">
                    <div class="timeline__event__icon ">
                        <i class="fa fa-info-circle"></i>
                        <div class="timeline__event__date">
                            20-08-2019
                        </div>
                    </div>
                    <div class="timeline__event__content ">
                        <div class="timeline__event__title">
                            Birthday
                        </div>
                        <div class="timeline__event__description">
                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Vel, nam! Nam eveniet ut aliquam ab asperiores, accusamus iure veniam corporis incidunt reprehenderit accusantium id aut architecto harum quidem dolorem in!</p>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        
    </section>

    <section class='group3'>
        <div class="graph1">
            <div class="canvas1">
                <canvas id="speed" width="400" height="100"></canvas>
            </div>
            <div class="info1">
                <ul>
                    <li>Max Speed : <span>158</span>km/h</li>
                    <li>Average Speed : <span>72</span>km/h</li>
                </ul>
            </div>
        </div>

        <div class="graph2">
            <div class="canvas2">
                <canvas id="angle" width="400" height="100"></canvas>
            </div>
            <div class="info2">
                <ul>
                    <li>Max Angle : <span>158</span>°</li>
                    <li>Average Angle : <span>72</span>°</li>
                </ul>
            </div>
        </div>
    </section>

    <section class="group4">
        <form action="{{ request.url }}" method='GET'>
            <div class="btn-container">
                <input type="radio" name="food" id="local" checked hidden/>
                <label for="local">Local</label>  
                <input type="radio" name="food" id="online" hidden/>
                <label for="online">Online</label>
            </div>
        </form>
        
        <div id="map"></div>
    </section>

</div>
{% endblock main %}



{% block script %}
<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>
<script type="text/javascript">
// On initialise la latitude et la longitude de Paris (centre de la carte)
var lat = 47.902964;
var lon = 1.909251;

var macarte = null;
// Fonction d'initialisation de la carte
function initMap() {
    // Créer l'objet "macarte" et l'insèrer dans l'élément HTML qui a l'ID "map"
    macarte = L.map('map').setView([lat, lon], 11);
    // Leaflet ne récupère pas les cartes (tiles) sur un serveur par défaut. Nous devons lui préciser où nous souhaitons les récupérer. Ici, openstreetmap.fr
    L.tileLayer('https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', {
        // Il est toujours bien de laisser le lien vers la source des données
        attribution: 'données © <a href="//osm.org/copyright">OpenStreetMap</a>/ODbL - rendu <a href="//openstreetmap.fr">OSM France</a>',
        minZoom: 1,
        maxZoom: 20
    }).addTo(macarte);
    var marker = L.marker([lat, lon]).addTo(macarte);
}
window.onload = function(){
    // Fonction d'initialisation qui s'exécute lorsque le DOM est chargé
    initMap(); 
};
</script>

<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.bundle.min.js"></script>

<script src="{{ url_for('static', filename='pc/js/stats.js') }}">

</script>

{% endblock script %}